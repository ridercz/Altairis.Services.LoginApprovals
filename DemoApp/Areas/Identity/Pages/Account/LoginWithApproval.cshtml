@page "{lasid?}"
@model DemoApp.Areas.Identity.Pages.Account.LoginWithApprovalModel
@{ ViewData["Title"] = "Log in"; }

<h1>@ViewData["Title"]</h1>
<h4>Use another device to approve your login.</h4>
<hr />
<div class="row">
    <div class="col-md-9">
        <p>Visit the following page on your mobile device and confirm login request ID <strong>@Model.DisplaySessionId</strong>.</p>
        <p><code>@this.Model.ApprovalUrl</code></p>
        <p>You may also use the QR code for login.</p>
    </div>
    <div class="col-md-3">
        <div id="otpuri" data-qr-content="@Model.ApprovalUrl"></div>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcode-generator/1.3.1/qrcode.min.js"></script>
        <script type="text/javascript">
            var qre = document.getElementById('otpuri');
            var qrg = qrcode(0, 'L');
            qrg.addData(qre.getAttribute("data-qr-content"));
            qrg.make();
            qre.innerHTML = qrg.createImgTag(5, 50);
        </script>
    </div>
</div>
